{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/isg-05/Escritorio/Genesis/genesis/components/Components_Login.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { View } from \"./Themed\";\nimport { withAuthenticator } from 'aws-amplify-react-native';\nimport { API, graphqlOperation, Auth } from 'aws-amplify';\nimport { createMessage } from \"../src/graphql/mutations\";\n\nfunction Components_Login(_ref) {\n  var onChangeLogin = _ref.onChangeLogin,\n      login = _ref.login;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      message = _React$useState2[0],\n      onChangeMessage = _React$useState2[1];\n\n  if (login) {\n    onChangeLogin(false);\n  } else {\n    onChangeLogin(true);\n  }\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, React.createElement(SafeAreaView, {\n    style: {\n      paddingBottom: 20\n    },\n    onLayout: function onLayout(event) {\n      return console.log(event.nativeEvent.layout);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      width: 250\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    multiline: true,\n    numberOfLines: 20,\n    maxLength: 300,\n    style: styles.input,\n    onChangeText: function onChangeText(Text) {\n      return onChangeMessage(Text);\n    },\n    placeholder: \"Message\",\n    value: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  })), React.createElement(Button, {\n    onPress: function onPress() {\n      sendMessage(message);\n      onChangeMessage('');\n    },\n    title: \"Send message\",\n    color: \"#ff9900\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  })));\n}\n\nfunction sendMessage(message) {\n  var send_message;\n  return _regeneratorRuntime.async(function sendMessage$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log(Auth.currentAuthenticatedUser().then(function (a) {\n            return console.log(a.username);\n          }));\n          console.log(\"Auth.currentAuthenticatedUser().then((a) => a.username\", Auth.currentAuthenticatedUser().then(function (a) {\n            return a.username;\n          }));\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(Auth.currentAuthenticatedUser().then(function (a) {\n            return a.username;\n          }));\n\n        case 4:\n          _context.t0 = _context.sent;\n          _context.t1 = message;\n          send_message = {\n            username: _context.t0,\n            message: _context.t1\n          };\n          _context.next = 9;\n          return _regeneratorRuntime.awrap(API.graphql(graphqlOperation(createMessage, {\n            input: send_message\n          })));\n\n        case 9:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nvar styles = StyleSheet.create({\n  input: {\n    height: 80,\n    margin: 12,\n    borderWidth: 2,\n    padding: 10,\n    borderColor: '#ffe6bf',\n    borderRadius: 10\n  },\n  buttonText: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"#FFFFFF\"\n  },\n  button: {\n    backgroundColor: '#33AAFF',\n    borderWidth: 10,\n    borderRadius: 20,\n    borderColor: \"#33AAFF\",\n    padding: 5\n  }\n});\nexport default withAuthenticator(Components_Login);","map":{"version":3,"sources":["/home/isg-05/Escritorio/Genesis/genesis/components/Components_Login.tsx"],"names":["React","View","withAuthenticator","API","graphqlOperation","Auth","createMessage","Components_Login","onChangeLogin","login","useState","message","onChangeMessage","paddingBottom","event","console","log","nativeEvent","layout","width","styles","input","Text","sendMessage","currentAuthenticatedUser","then","a","username","send_message","graphql","StyleSheet","create","height","margin","borderWidth","padding","borderColor","borderRadius","buttonText","fontSize","fontWeight","color","button","backgroundColor"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { StyleSheet, SafeAreaView, TextInput, Button } from 'react-native';\n\nimport { View } from './Themed';\n\nimport { withAuthenticator } from 'aws-amplify-react-native';\n\nimport Components_Chat from '../components/Components_Chat';\n\n// This is the part for the suscription \nimport { API, graphqlOperation, Auth } from 'aws-amplify';\nimport { createMessage } from \"../src/graphql/mutations\";\n\n\nfunction Components_Login({ onChangeLogin, login }: { onChangeLogin: any, login: boolean }) {\n\n  const [message, onChangeMessage] = React.useState('');\n\n  if(login){\n    onChangeLogin(false)\n  }else{\n    onChangeLogin(true)\n  }\n\n  return (\n    // <Authenticator>\n    //   <SignIn />\n    // </Authenticator>\n    <View>\n      {/* <View>\n        <Components_Chat path=\"/screens/Components_Login.tsx\" />\n      </View> */}\n      <SafeAreaView style={{ paddingBottom: 20 }} onLayout={(event) =>\n        console.log(event.nativeEvent.layout)\n      }>\n        <View style={{ width: 250 }}>\n          <TextInput\n            multiline={true}\n            numberOfLines={20}\n            maxLength={300}\n            style={styles.input}\n            onChangeText={Text => onChangeMessage(Text)}\n            placeholder=\"Message\"\n            value={message}\n          />\n        </View>\n        <Button\n          onPress={() => {\n            sendMessage(message)\n            onChangeMessage('')\n          }}\n          title=\"Send message\"\n          color=\"#ff9900\" />\n      </SafeAreaView>\n    </View>\n  );\n}\n\nasync function sendMessage(message: string) {\n  console.log(Auth.currentAuthenticatedUser().then((a) => console.log(a.username)));\n  console.log(\"Auth.currentAuthenticatedUser().then((a) => a.username\", Auth.currentAuthenticatedUser().then((a) => a.username))\n  const send_message = {\n    username: await Auth.currentAuthenticatedUser().then((a) => a.username),\n    message: message,\n  };\n  return await API.graphql(graphqlOperation(createMessage, { input: send_message }));\n}\n\n\n\nconst styles = StyleSheet.create({\n  input: {\n    height: 80,\n    margin: 12,\n    borderWidth: 2,\n    padding: 10,\n    borderColor: '#ffe6bf',\n    borderRadius: 10,\n  },\n  buttonText: {\n    fontSize: 24,\n    fontWeight: \"bold\",\n    color: \"#FFFFFF\"\n  },\n  button: {\n    backgroundColor: '#33AAFF',\n    borderWidth: 10,\n    borderRadius: 20,\n    borderColor: \"#33AAFF\",\n    padding: 5,\n  }\n});\n\n\nexport default withAuthenticator(Components_Login);"]},"metadata":{},"sourceType":"module"}